---
title: "Webアクセシビリティをエンジニアだけで少しでも対応したい"
emoji: "👀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [accessibility,HTML,アクセシビリティ]
published: true
---

## はじめに
アクセシビリティの簡単な概要、[デジタル庁PDF](https://www.digital.go.jp/assets/contents/node/basic_page/field_ref_resources/08ed88e1-d622-43cb-900b-84957ab87826/9f89625f/20230512_introduction_to_weba11y.pdf)を参考に対応したものを更新していきます。

## Webアクセシビリティとは

https://www.digital.go.jp/resources/introduction-to-web-accessibility-guidebook/
このページは非エンジニア、非デザイナーでもわかりやすいと思います。

デジタル庁は、「誰一人取り残されない、人に優しいデジタル化を。」
このようにミッションを掲げています。企業、サービスによっては、多少違うと思いますが、大枠はこの通りだと思います。

つまり、**すべてのユーザーが問題なくWebから全ての情報を快適に活用できるようにすること**

### アクセシビリティの段階について
達成基準は、「A」「AA」「AAA」の3段階あります。
「A（25項目）」を最低限の達成基準で「AA（13項目）」「AAA（23項目）」と段階的に達成基準があがっていきます。

公的機関などに求められるのはAAとのことです。

## 対応できるところ
対応できていた部分もありましたが、盲点だった部分もありました。
[デジタル庁PDF](https://www.digital.go.jp/assets/contents/node/basic_page/field_ref_resources/08ed88e1-d622-43cb-900b-84957ab87826/9f89625f/20230512_introduction_to_weba11y.pdf)参照

### 自動再生はさせない
`video`タグYoutubeなどの動画や、音声データなどですね。
スクリーンリーダーを使用するときの妨げになるので、基本的には`autoplay`にしないで、音量出さないでということだと思います。
自動再生するときは、3秒以内で一時停止ボタン、ミュートをする。

たまに使用する`video`タグだと👇のようにしています。（字幕もあったほうが尚良い）
```html:
<video src="video.mp4" alt="サンプル動画" playsinline preload="none" controls>
</video>
```


### 自動でコンテンツを切り替えない
Webサイトでは当たり前のようにあるカルーセル。
一時停止、非表示、停止ボタンを設置しましょう。
今までカルーセルはSwiperを使用することが多かったですが、[Splide](https://ja.splidejs.com/)を見つけて最近導入してみました。


### 画像やイラストに代替テキストを付与する
これは当たり前にしている人が多いと思います。
`img`タグなどの`alt`属性ですね
ポイントは、**画像の代わりにその文字を置いてみても違和感がない**こと。
ただし、スクリーンリーダーの可読性にも注意が必要なので、不必要な情報の代替テキストは邪魔。

以下抜粋。
* 画像がリンクの場合、代替テキストはリンク先を示す内容にします
* グラフや図表など、ある意味を示す場合はその要約を記述します。ただし、隣接するテキストに内容（の要約）がある場合は何のグラフ・図表なのかが示されていれば構いません
* 文字イメージ（ロゴマークや見出しなど）を表現している場合、同じ文字を記述します
* 装飾や意味を持たない画像の代替テキストは空にします
:::message alert
アイコンなどは代替テキストは必要ないですが`alt=""`は書かないのではなく空文字にする。
:::


```html:
<img src="link.png" alt="example.com"> 
<img src="title.png" alt="見出しタイトル">
<img src="icon.png" alt="">
<img src="accessibility-sample.png" alt="アクセシビリティを囲むようにhoge-01、hoge-02、hoge-03、hoge-04が書かれている">
```
![アクセシビリティの文字を囲むようにhoge-01、hoge-02、hoge-03、hoge-04が書かれている](/images/accessibility/accessibility-01.png =300x) 
*accessibility-sample*

### キーボード操作ですべてが完結できるようにする
PCのキーボードの「Tab」キーでのフォーカス
`div`タグでのハンバーガーメニューやドロップダウンなどです。ここは個人的に盲点でした。
`div`はデフォルトではフォーカスされないので👇のように`button`タグに変更して、デフォルトでフォーカスができるようにします。
```html:
<button class="hamburgerMenu" id="hamburgerMenu">
</button>
```
:::message
`tabindex="1"`で任意でフォーカスを当てることもできます。
:::


### スクリーンリーダーの読み上げ方
1. **全角スペースについて**
原稿で、結構全角スペースで空白をつけているのを目にします。
自分はアクセシビリティを知らない時から基本的に半角に変更していました。~~全角スペースでの空白は嫌なだけ~~
:::message
「定　員」「場　所」とかだと正しく読まれない場合があります。
:::
2. **読み上げ方の順序について**
スクリーンリーダーの読み上げは視覚的には左上から右下に向かって読み上げるため、内容によっては何のボタンなのかわからない場合も。
内容によると思いますが、基本的にボタンの前に内容があるレイアウトが可読性があると思います。
![両者の違いの詳細ボタンの下にリストアクセシビリティ、ユニバーサルデザインが書かれている](/images/accessibility/accessibility-02.png) 

### 色など単一の表現のみで情報を伝えてはいけない
フォームの赤文字は必須です。と記載されていて、赤文字だけで「**※**」とかですね、、「**※必須**」にするなどに変更し、テキストだけでもわかるように。
見落としがちです。
![フォームの赤文字は必須ですと書かれた例から、赤文字で※必須に変更した例](/images/accessibility/accessibility-04.png) 

### ページの内容を示すタイトルを適切に表現する
headのtitleですね。SEOも考慮しなければいけない部分。。
「ページのタイトル | サイト名」複数のページでページタイトルが重複しないようにしましょう。
ページタイトルとそのページの`h1`が揃っていること。
※一昔前はロゴがh1に・・・！みたいなことは聞いたことがあります。

### リンクの表現方法
「詳しくはこちら」のリンクボタンがあったとして、スクリーンリーダー読み込み時ではどこのリンクなのかがわからないため、
「〜〜の詳細」などに変更し、読み込んでもどこのリンクかわかるようにする。

ただ、文字数によってはレイアウトとかも崩れる場合もあり、なかなか難しく感じています。
動的にタイトルを表示するとタイトルの付け方も大事になる。

![例でアクセシビリティのリンクの表現方法について説明したもので、詳しくはこちらのテキストをアクセシビリティの詳細に変更した画像](/images/accessibility/accessibility-03.png) 


### テキストと背景のコントラスト比
最低でも4.5:1と言われています。「AAA」などはかなり難しそう。。
[コントラストツール](https://lab.syncer.jp/Tool/Color-Contrast-Checker/)などで色を決める時に見ておかないと難しい。

## 余談
[デジタル庁](https://www.digital.go.jp/)と[こども家庭庁](https://www.cfa.go.jp/top/)は同じレイアウトでモダンな技術を使用。
さらに、新しくベータ版みたいなサイトもデジタル庁はあり、サイトに力を入れ始めている感覚はあります。
また、「**Webアクセシビリティの義務化**」についても最近は目にしますので、注力していきたいです。（ついていく）

## 参考
[Youtube](https://www.youtube.com/watch?v=r9yn6c4mNe0)
[デジタル庁PDF](https://www.digital.go.jp/assets/contents/node/basic_page/field_ref_resources/08ed88e1-d622-43cb-900b-84957ab87826/9f89625f/20230512_introduction_to_weba11y.pdf)


## まとめ
どこまで適応させるかなど、発注側も受注側もなかなか難しい領域な気もしています。
まだまだたくさんあり、やはり技術者のみでは一部しか対応できず、他にも**対応しないといけない**ところもありそうです。
デザインから変えていかないといけないものもありますが、技術者だけで簡単に改善できるところもあるので、そこはスタンダードの状態に持っていけると良いと考えています。